import { Component, OnInit } from '@angular/core';
import { IKundliForm } from '../../../../interfaces/ikundli-form';
import { HeaderService } from '../../../../services/header.service';
import { FormService } from '../../../../services/form.service';
import { ActivatedRoute, ParamMap, Router } from '@angular/router';
import { CommonModule } from '@angular/common';
import { DomSanitizer, SafeHtml } from '@angular/platform-browser';
import { KundliBasicDetails } from "../kundli-basic-details/kundli-basic-details";
import { PositionOfPlanets } from "../../../position-of-planets/position-of-planets";
import { AstrologySection } from "../../../astrology-section/astrology-section";
import { FAQSection } from "../../../faq-section/faq-section";
import { IFeatureCard } from '../../../../interfaces/ifeature-card';
import { Doshas } from "../../../doshas/doshas";
import { IFeatureCardT2 } from '../../../../interfaces/ifeature-card-t2';
import { Dashaa } from "../../../dashaa/dashaa";
import { Remedies } from "../../../remedies/remedies";

@Component({
  selector: 'app-kundli-detail-report',
  imports: [
    CommonModule,
    KundliBasicDetails,
    PositionOfPlanets,
    AstrologySection,
    FAQSection,
    Doshas,
    Dashaa,
    Remedies
],
  templateUrl: './kundli-detail-report.html',
  styleUrl: './kundli-detail-report.css'
})
export class KundliDetailReport implements OnInit {

  profile: IKundliForm = {
    name: "John Doe",
    dob: "1990-01-01",
    time: "13:45", // 24-hour format (e.g., 13:45 for 1:45 PM)
    place: "New York, USA",
    gender: "m",
  };

  selectedOption: number = 0;

  
  documentSvg = `<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">
  <path d="M18.6875 3.25H17.875C17.8737 2.81942 17.7021 2.40684 17.3976 2.10237C17.0932 1.7979 16.6806 1.62629 16.25 1.625H9.75C9.31942 1.62629 8.90684 1.7979 8.60237 2.10237C8.2979 2.40684 8.12629 2.81942 8.125 3.25H7.3125C6.45055 3.25 5.6239 3.59241 5.0144 4.2019C4.40491 4.8114 4.0625 5.63805 4.0625 6.5V21.125C4.0625 21.987 4.40491 22.8136 5.0144 23.4231C5.6239 24.0326 6.45055 24.375 7.3125 24.375H18.6875C19.5495 24.375 20.3761 24.0326 20.9856 23.4231C21.5951 22.8136 21.9375 21.987 21.9375 21.125V6.5C21.9375 5.63805 21.5951 4.8114 20.9856 4.2019C20.3761 3.59241 19.5495 3.25 18.6875 3.25ZM17.875 13H8.125C7.90951 13 7.70285 12.9144 7.55048 12.762C7.3981 12.6097 7.3125 12.403 7.3125 12.1875C7.3125 11.972 7.3981 11.7653 7.55048 11.613C7.70285 11.4606 7.90951 11.375 8.125 11.375H17.875C18.0905 11.375 18.2972 11.4606 18.4495 11.613C18.6019 11.7653 18.6875 11.972 18.6875 12.1875C18.6875 12.403 18.6019 12.6097 18.4495 12.762C18.2972 12.9144 18.0905 13 17.875 13ZM18.6875 15.4375C18.6875 15.653 18.6019 15.8597 18.4495 16.012C18.2972 16.1644 18.0905 16.25 17.875 16.25H8.125C7.90951 16.25 7.70285 16.1644 7.55048 16.012C7.3981 15.8597 7.3125 15.653 7.3125 15.4375C7.3125 15.222 7.3981 15.0153 7.55048 14.863C7.70285 14.7106 7.90951 14.625 8.125 14.625H17.875C18.0905 14.625 18.2972 14.7106 18.4495 14.863C18.6019 15.0153 18.6875 15.222 18.6875 15.4375ZM13 9.75H8.125C7.90951 9.75 7.70285 9.6644 7.55048 9.51202C7.3981 9.35965 7.3125 9.15299 7.3125 8.9375C7.3125 8.72201 7.3981 8.51535 7.55048 8.36298C7.70285 8.2106 7.90951 8.125 8.125 8.125H13C13.2155 8.125 13.4222 8.2106 13.5745 8.36298C13.7269 8.51535 13.8125 8.72201 13.8125 8.9375C13.8125 9.15299 13.7269 9.35965 13.5745 9.51202C13.4222 9.6644 13.2155 9.75 13 9.75ZM8.125 17.875H17.875C18.0905 17.875 18.2972 17.9606 18.4495 18.113C18.6019 18.2653 18.6875 18.472 18.6875 18.6875C18.6875 18.903 18.6019 19.1097 18.4495 19.262C18.2972 19.4144 18.0905 19.5 17.875 19.5H8.125C7.90951 19.5 7.70285 19.4144 7.55048 19.262C7.3981 19.1097 7.3125 18.903 7.3125 18.6875C7.3125 18.472 7.3981 18.2653 7.55048 18.113C7.70285 17.9606 7.90951 17.875 8.125 17.875ZM9.75 3.25H16.25V4.875H9.75V3.25Z" fill="#FEB114"/>
</svg>`;

  leaveSvg = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
  <path d="M23.5251 6.2972C21.0419 9.4 23.2819 13.0428 18.6727 16.7668C17.9028 17.4285 16.9537 17.8466 15.9458 17.9682C14.9379 18.0898 13.9166 17.9093 13.0115 17.4496C12.9306 17.4029 12.8688 17.3292 12.8369 17.2413C12.8051 17.1535 12.8053 17.0573 12.8375 16.9696C13.6772 14.8065 14.8274 12.7772 16.2519 10.9456C16.3117 10.8756 16.3423 10.7854 16.3377 10.6935C16.333 10.6016 16.2933 10.515 16.2267 10.4514C16.1601 10.3879 16.0718 10.3522 15.9797 10.3518C15.8877 10.3514 15.799 10.3862 15.7319 10.4492C13.6919 12.1444 12.2247 14.7548 11.7103 15.7556C11.6885 15.7986 11.6555 15.835 11.6148 15.8609C11.5742 15.8868 11.5273 15.9013 11.4791 15.9029C11.4309 15.9045 11.3832 15.8931 11.3409 15.8699C11.2986 15.8468 11.2633 15.8127 11.2387 15.7712C11.2165 15.7379 11.1971 15.7029 11.1807 15.6664C10.6889 14.8288 10.4374 13.8719 10.4539 12.9008V12.8968C10.4695 12.0011 10.6807 11.1197 11.0727 10.3143C11.4648 9.50882 12.0282 8.79882 12.7235 8.234C16.7335 5.0104 21.7911 5.538 23.3803 5.8096C23.4302 5.8219 23.4761 5.84704 23.5133 5.88253C23.5505 5.91802 23.5777 5.96263 23.5924 6.01192C23.607 6.06121 23.6085 6.11347 23.5967 6.16351C23.5849 6.21356 23.5602 6.25964 23.5251 6.2972Z" fill="#00A553"/>
  <path d="M10.4102 15.6848C10.3648 15.9867 10.2763 16.2805 10.1474 16.5572C10.1281 16.5977 10.0992 16.6327 10.0631 16.6594C10.027 16.686 9.98497 16.7033 9.94063 16.7098C9.89628 16.7163 9.85101 16.7119 9.80881 16.6968C9.76661 16.6816 9.72877 16.6564 9.69864 16.6232C8.62799 15.4215 7.35786 14.4138 5.94424 13.6444C5.87179 13.6057 5.78763 13.5949 5.70777 13.6142C5.62791 13.6335 5.55793 13.6815 5.51115 13.749C5.46437 13.8165 5.44405 13.8989 5.45406 13.9804C5.46407 14.062 5.50371 14.137 5.56544 14.1912C6.75819 15.2229 7.84723 16.3688 8.81704 17.6124C8.84139 17.6452 8.85833 17.683 8.8667 17.723C8.87506 17.763 8.87464 17.8044 8.86548 17.8442C8.85632 17.8841 8.83862 17.9215 8.81362 17.9538C8.78861 17.9862 8.75689 18.0127 8.72064 18.0316C8.2786 18.2497 7.79633 18.3743 7.30397 18.3977C6.8116 18.421 6.31972 18.3425 5.85904 18.1672C2.11903 16.8132 2.75424 14.0244 0.507835 12.6C0.476635 12.5842 0.450142 12.5604 0.431001 12.5311C0.411861 12.5018 0.400743 12.468 0.398759 12.433C0.396775 12.3981 0.403995 12.3633 0.419696 12.332C0.435397 12.3007 0.45903 12.2741 0.488235 12.2548C1.43944 11.7388 4.54064 10.3076 7.78464 11.4788C8.54186 11.754 9.20101 12.2466 9.67944 12.8948V12.8988C9.66329 13.87 9.91488 14.8268 10.4066 15.6644L10.4102 15.6848Z" fill="#00A553"/>
</svg>`;  

  tempSummary = "Here lies the summary of the planetary output Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."

  tempBrief = "Lorem ipsum dolor sit amet consectetur adipiscing elit. Quisque faucibus ex sapien vitae pellentesque sem placerat. In id cursus mi pretium tellus duis convallis";


  options: {
    name: string;
    id: number;
    svg: string | SafeHtml;
    svgBg: string;
  }[] = [
    {
      name: "Basic Details",
      id: 0,
      svg: this.documentSvg,
      svgBg: "#FFF1D6",
    },
    {
      name: "Dosha Analysis",
      id: 1,
      svg: `<svg xmlns="http://www.w3.org/2000/svg" width="27" height="26" viewBox="0 0 27 26" fill="none">
  <path d="M13.7988 0.8125C11.3884 0.8125 9.03205 1.52728 7.02782 2.86646C5.0236 4.20564 3.46149 6.10907 2.53905 8.33605C1.61661 10.563 1.37526 13.0135 1.84551 15.3777C2.31577 17.7418 3.47652 19.9134 5.18097 21.6179C6.88542 23.3223 9.05703 24.4831 11.4212 24.9533C13.7853 25.4236 16.2358 25.1822 18.4628 24.2598C20.6898 23.3373 22.5932 21.7752 23.9324 19.771C25.2715 17.7668 25.9863 15.4105 25.9863 13C25.9824 9.76888 24.6971 6.67123 22.4124 4.38648C20.1276 2.10174 17.03 0.816436 13.7988 0.8125ZM21.022 7.38969C21.53 8.04099 21.9469 8.75854 22.261 9.5225C22.2932 9.60283 22.2925 9.6926 22.2591 9.77242C22.2256 9.85224 22.1621 9.91569 22.0823 9.94906C22.0426 9.96555 22 9.974 21.957 9.97393C21.9139 9.97386 21.8714 9.96526 21.8317 9.94864C21.792 9.93202 21.7561 9.9077 21.7259 9.87709C21.6957 9.84649 21.6718 9.81019 21.6557 9.77031C21.3648 9.06221 20.9794 8.3967 20.5101 7.79187C20.4585 7.72385 20.4357 7.63829 20.4466 7.55361C20.4575 7.46894 20.5012 7.39194 20.5683 7.33919C20.6355 7.28645 20.7206 7.26219 20.8055 7.27163C20.8903 7.28108 20.9681 7.32347 21.022 7.38969ZM20.4898 16.3881L18.4748 12.8253L20.4004 9.41281C20.9747 10.4827 21.2827 11.6753 21.2982 12.8895C21.3138 14.1038 21.0365 15.3038 20.4898 16.3881ZM16.3745 9.1H19.8276L18.101 12.1591L16.3745 9.1ZM19.8276 16.5466H16.3745L18.101 13.4875L19.8276 16.5466ZM16.0048 8.44594L14.3391 5.50469C15.4022 5.58027 16.4369 5.88172 17.3743 6.38891C18.3116 6.89611 19.13 7.59738 19.7748 8.44594H16.0048ZM17.7232 12.8253L15.6229 16.5466H11.9788L9.87852 12.8253L11.9788 9.1H15.6229L17.7232 12.8253ZM11.597 8.44594H7.82696C8.47177 7.59738 9.29014 6.89611 10.2275 6.38891C11.1648 5.88172 12.1995 5.58027 13.2626 5.50469L11.597 8.44594ZM11.2273 9.1L9.50071 12.1591L7.77415 9.1H11.2273ZM11.2273 16.5466H7.77415L9.50071 13.4875L11.2273 16.5466ZM11.597 17.2006L13.4535 20.4831C12.2885 20.4293 11.152 20.1046 10.1344 19.5348C9.11682 18.965 8.24607 18.1658 7.59133 17.2006H11.597ZM12.3485 17.2006H15.2532L13.8029 19.7681L12.3485 17.2006ZM16.0048 17.2006H20.0104C19.3557 18.1658 18.4849 18.965 17.4673 19.5348C16.4497 20.1046 15.3132 20.4293 14.1482 20.4831L16.0048 17.2006ZM18.1254 4.93594C18.8539 5.32516 19.5252 5.81321 20.1201 6.38625C20.1808 6.44755 20.2156 6.52991 20.2171 6.61618C20.2186 6.70246 20.1868 6.78599 20.1282 6.84938C20.0983 6.88033 20.0627 6.9051 20.0232 6.92227C19.9838 6.93943 19.9413 6.94865 19.8983 6.94941C19.8553 6.95016 19.8126 6.94243 19.7726 6.92666C19.7325 6.91089 19.696 6.88739 19.6651 6.8575C19.1136 6.32544 18.4916 5.87162 17.8166 5.50875C17.7425 5.46681 17.6878 5.3975 17.6642 5.31569C17.6406 5.23387 17.6501 5.14607 17.6905 5.07112C17.7309 4.99616 17.799 4.94003 17.8803 4.91476C17.9616 4.88948 18.0496 4.89709 18.1254 4.93594ZM14.4773 3.87562C15.3016 3.93243 16.114 4.10474 16.8904 4.3875C16.9698 4.41854 17.034 4.47943 17.0691 4.55715C17.1042 4.63486 17.1075 4.72324 17.0784 4.80337C17.0492 4.88351 16.9898 4.94904 16.9129 4.98596C16.836 5.02288 16.7478 5.02826 16.667 5.00094C15.9481 4.73849 15.196 4.57849 14.4326 4.52563C14.3474 4.51834 14.2685 4.47789 14.2129 4.41298C14.1573 4.34808 14.1294 4.26392 14.1353 4.17865C14.1412 4.09338 14.1803 4.01383 14.2443 3.95715C14.3082 3.90046 14.3919 3.87119 14.4773 3.87562ZM13.8029 5.87437L15.2532 8.44594H12.3485L13.8029 5.87437ZM10.7113 4.3875C11.4878 4.10474 12.3001 3.93243 13.1245 3.87562C13.2098 3.87119 13.2935 3.90046 13.3575 3.95715C13.4214 4.01383 13.4606 4.09338 13.4664 4.17865C13.4723 4.26392 13.4444 4.34808 13.3888 4.41298C13.3332 4.47789 13.2543 4.51834 13.1691 4.52563C12.3702 4.59274 11.5828 4.75924 10.8251 5.02125C10.7491 5.01991 10.676 4.99224 10.6181 4.94297C10.5603 4.89371 10.5213 4.82589 10.5079 4.7511C10.4945 4.67631 10.5074 4.59918 10.5445 4.53287C10.5816 4.46656 10.6406 4.41518 10.7113 4.3875ZM7.48571 6.38625C8.07838 5.81236 8.74841 5.32419 9.47633 4.93594C9.55223 4.89572 9.64095 4.88714 9.72315 4.91207C9.80535 4.93701 9.87435 4.99344 9.9151 5.06905C9.95586 5.14466 9.96506 5.23332 9.94071 5.3157C9.91635 5.39807 9.86041 5.46746 9.78508 5.50875C9.1114 5.87365 8.48971 6.32728 7.93665 6.8575C7.87548 6.91599 7.79377 6.94809 7.70915 6.94688C7.64458 6.94595 7.58173 6.92592 7.52854 6.8893C7.47536 6.85268 7.43421 6.80113 7.4103 6.74114C7.3864 6.68116 7.3808 6.61543 7.39422 6.55227C7.40764 6.4891 7.43948 6.43133 7.48571 6.38625ZM9.12696 12.8253L7.11196 16.3881C6.56526 15.3038 6.28795 14.1038 6.30351 12.8895C6.31906 11.6753 6.62704 10.4827 7.20133 9.41281L9.12696 12.8253ZM5.34477 9.5225C5.6559 8.75791 6.07152 8.04014 6.57977 7.38969C6.63325 7.32147 6.71155 7.2772 6.79757 7.26654C6.88359 7.25588 6.97033 7.27971 7.03883 7.33281C7.07268 7.35932 7.10092 7.39228 7.12192 7.42979C7.14293 7.4673 7.15627 7.5086 7.16118 7.55131C7.1661 7.59401 7.16248 7.63727 7.15054 7.67857C7.13861 7.71986 7.11859 7.75838 7.09165 7.79187C6.62233 8.3967 6.23696 9.06221 5.94602 9.77031C5.92995 9.81008 5.90618 9.84628 5.87606 9.87682C5.84594 9.90736 5.81008 9.93164 5.77054 9.94826C5.731 9.96488 5.68856 9.97352 5.64567 9.97367C5.60278 9.97382 5.56028 9.96548 5.52062 9.94913C5.48097 9.93279 5.44494 9.90876 5.41461 9.87843C5.38428 9.8481 5.36025 9.81207 5.3439 9.77242C5.32756 9.73276 5.31922 9.69026 5.31937 9.64737C5.31952 9.60448 5.32815 9.56204 5.34477 9.5225ZM4.66227 12.9878C4.66082 12.2595 4.74813 11.5337 4.92227 10.8266C4.93154 10.7846 4.94904 10.7449 4.97374 10.7098C4.99844 10.6746 5.02986 10.6447 5.06619 10.6218C5.10252 10.5988 5.14303 10.5833 5.18538 10.5761C5.22774 10.5689 5.2711 10.5702 5.31296 10.5799C5.35483 10.5895 5.39436 10.6074 5.42928 10.6324C5.4642 10.6574 5.49381 10.6891 5.51641 10.7257C5.53901 10.7622 5.55415 10.8029 5.56095 10.8453C5.56775 10.8877 5.56607 10.9311 5.55602 10.9728C5.37411 11.7127 5.29483 12.4741 5.3204 13.2356C5.32592 13.3216 5.29754 13.4063 5.24135 13.4716C5.18515 13.5369 5.10561 13.5776 5.01977 13.585C4.67852 13.6012 4.64196 13.2478 4.66227 12.9878ZM6.00696 17.1072C5.96835 17.1265 5.92628 17.138 5.8832 17.1409C5.84012 17.1438 5.7969 17.1381 5.75605 17.1241C5.7152 17.1101 5.67756 17.0881 5.6453 17.0594C5.61305 17.0307 5.58684 16.9958 5.56821 16.9569C5.2068 16.2134 4.9511 15.423 4.80852 14.6087C4.79553 14.5245 4.81603 14.4386 4.86562 14.3693C4.9152 14.3 4.98995 14.2529 5.07384 14.238C5.15774 14.2232 5.24412 14.2417 5.3145 14.2898C5.38488 14.3378 5.43366 14.4115 5.4504 14.495C5.58345 15.2502 5.82137 15.9831 6.15727 16.6725C6.17599 16.7109 6.18695 16.7526 6.18952 16.7953C6.1921 16.8379 6.18624 16.8806 6.17227 16.921C6.15831 16.9614 6.13652 16.9986 6.10816 17.0306C6.07979 17.0625 6.0454 17.0886 6.00696 17.1072ZM8.35915 19.9184C8.33211 19.9519 8.29862 19.9795 8.26066 19.9998C8.22271 20.02 8.18107 20.0324 8.13824 20.0362C8.0954 20.04 8.05223 20.0351 8.01132 20.0218C7.9704 20.0086 7.93257 19.9872 7.90008 19.9591C7.26672 19.4294 6.71023 18.8141 6.24665 18.1309C6.19973 18.0593 6.18278 17.972 6.19943 17.888C6.21608 17.804 6.26501 17.7298 6.33571 17.6814C6.40642 17.633 6.49327 17.6143 6.57763 17.6292C6.66199 17.6442 6.73714 17.6916 6.78696 17.7612C7.2176 18.3945 7.73291 18.9659 8.31852 19.4594C8.38439 19.5151 8.42561 19.5946 8.43322 19.6806C8.44082 19.7665 8.41421 19.852 8.35915 19.9184ZM11.2435 21.7588C10.4506 21.5315 9.69319 21.1951 8.9929 20.7594C8.92071 20.7134 8.86948 20.6408 8.85025 20.5574C8.83101 20.474 8.8453 20.3864 8.89005 20.3134C8.93479 20.2404 9.00641 20.188 9.08947 20.1673C9.17254 20.1466 9.2604 20.1593 9.33415 20.2028C9.98185 20.6053 10.6817 20.9169 11.4141 21.1291C11.4846 21.1472 11.547 21.1881 11.5918 21.2454C11.6366 21.3027 11.6613 21.3732 11.662 21.4459C11.6622 21.4967 11.6505 21.5469 11.6279 21.5924C11.6052 21.6378 11.5722 21.6774 11.5316 21.7078C11.4909 21.7382 11.4436 21.7586 11.3936 21.7675C11.3436 21.7764 11.2922 21.7734 11.2435 21.7588ZM15.0338 22.0391C14.2158 22.1528 13.3859 22.1528 12.5679 22.0391C12.4831 22.0257 12.407 21.9795 12.3561 21.9104C12.3051 21.8413 12.2835 21.7549 12.2957 21.67C12.308 21.585 12.3533 21.5083 12.4217 21.4565C12.4901 21.4047 12.5762 21.3819 12.6613 21.3931C13.4187 21.4988 14.1871 21.4988 14.9445 21.3931C15.0304 21.3828 15.117 21.4062 15.186 21.4585C15.255 21.5108 15.3009 21.5879 15.3141 21.6734C15.325 21.759 15.3017 21.8454 15.2492 21.9139C15.1967 21.9824 15.1193 22.0273 15.0338 22.0391ZM18.6088 20.7594C17.8858 21.2165 17.0965 21.5591 16.2688 21.775C16.1886 21.7743 16.1115 21.7441 16.0521 21.6902C15.9927 21.6364 15.9552 21.5625 15.9467 21.4828C15.9381 21.403 15.9592 21.323 16.0059 21.2577C16.0525 21.1925 16.1215 21.1467 16.1998 21.1291C16.9277 20.9151 17.6233 20.6035 18.2676 20.2028C18.3414 20.1581 18.4298 20.1445 18.5137 20.1648C18.5975 20.1852 18.6699 20.2379 18.715 20.3114C18.7601 20.3849 18.7742 20.4733 18.7543 20.5573C18.7344 20.6412 18.6821 20.7139 18.6088 20.7594ZM21.3551 18.1309C20.8915 18.8141 20.335 19.4294 19.7016 19.9591C19.6691 19.9872 19.6313 20.0085 19.5904 20.0217C19.5495 20.035 19.5063 20.0398 19.4635 20.036C19.4207 20.0322 19.3791 20.0199 19.3411 19.9997C19.3031 19.9795 19.2696 19.9518 19.2426 19.9184C19.1875 19.852 19.1609 19.7665 19.1685 19.6806C19.1761 19.5946 19.2173 19.5151 19.2832 19.4594C19.869 18.9649 20.3856 18.3937 20.8188 17.7612C20.8685 17.6916 20.9435 17.6443 21.0277 17.6296C21.1119 17.6148 21.1985 17.6337 21.2689 17.6822C21.3393 17.7307 21.3878 17.805 21.4039 17.8889C21.42 17.9729 21.4025 18.0598 21.3551 18.1309ZM22.0335 16.9569C22.0151 16.9959 21.9891 17.0309 21.957 17.0599C21.925 17.0888 21.8875 17.1111 21.8468 17.1255C21.8061 17.1399 21.7629 17.1461 21.7198 17.1437C21.6767 17.1413 21.6345 17.1305 21.5956 17.1117C21.5567 17.0929 21.5219 17.0666 21.4933 17.0343C21.4646 17.0021 21.4426 16.9644 21.4285 16.9236C21.4145 16.8827 21.4087 16.8395 21.4114 16.7964C21.4141 16.7534 21.4254 16.7112 21.4445 16.6725C21.7804 15.9831 22.0183 15.2502 22.1513 14.495C22.1665 14.41 22.2148 14.3345 22.2857 14.285C22.3565 14.2356 22.444 14.2163 22.5291 14.2314C22.6141 14.2465 22.6897 14.2947 22.7392 14.3654C22.7887 14.4362 22.8082 14.5237 22.7932 14.6087C22.6506 15.423 22.3949 16.2134 22.0335 16.9569ZM22.582 13.585C22.4961 13.5776 22.4166 13.5369 22.3604 13.4716C22.3042 13.4063 22.2758 13.3216 22.2813 13.2356C22.3069 12.4741 22.2276 11.7127 22.0457 10.9728C22.0359 10.9306 22.0345 10.887 22.0417 10.8443C22.0489 10.8016 22.0646 10.7607 22.0877 10.7242C22.1109 10.6876 22.1411 10.6559 22.1766 10.6311C22.2121 10.6063 22.2521 10.5889 22.2944 10.5797C22.3368 10.5705 22.3805 10.5699 22.423 10.5778C22.4656 10.5857 22.5062 10.602 22.5424 10.6257C22.5786 10.6494 22.6097 10.6801 22.634 10.716C22.6582 10.7519 22.675 10.7922 22.6835 10.8347C22.8793 11.6344 22.9628 12.4575 22.9313 13.2803C22.9284 13.3233 22.9171 13.3653 22.898 13.4038C22.8789 13.4424 22.8523 13.4768 22.8199 13.5051C22.7874 13.5334 22.7497 13.5551 22.7089 13.5688C22.668 13.5825 22.6249 13.588 22.582 13.585Z" fill="#FF1414"/>
  <path d="M13.803 15.6284C14.5034 15.6284 15.175 15.3502 15.6703 14.855C16.1655 14.3598 16.4437 13.6882 16.4437 12.9878C16.4437 12.2875 16.1655 11.6158 15.6703 11.1206C15.175 10.6254 14.5034 10.3472 13.803 10.3472C10.3052 10.4772 10.3052 15.4944 13.803 15.6284ZM13.803 11.0013C16.4274 11.0825 16.4274 14.8931 13.803 14.9744C11.1746 14.8931 11.1746 11.0825 13.803 11.0013Z" fill="#FF1414"/>
</svg>`,
      svgBg: "#FFD6D6",
    },
    {
      name: "Dasha Period",
      id: 2,
      svg: `<svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" viewBox="0 0 26 26" fill="none">
  <g clip-path="url(#clip0_1127_205)">
    <path d="M20.8464 13.0082C20.8464 17.3149 17.355 20.8063 13.0481 20.8063C8.74142 20.8063 5.25 17.3149 5.25 13.0082C5.25 8.70129 8.74142 5.20987 13.0481 5.20987C17.355 5.20987 20.8464 8.70129 20.8464 13.0082Z" fill="#14B9FF"/>
    <path d="M26.0455 3.26053C26.0455 5.05494 24.5907 6.50974 22.7963 6.50974C21.0017 6.50974 19.5469 5.05494 19.5469 3.26053C19.5469 1.46592 21.0017 0.0111084 22.7963 0.0111084C24.5907 0.0111084 26.0455 1.46592 26.0455 3.26053Z" fill="#14B9FF"/>
    <path d="M6.54836 22.106C6.54836 23.5416 5.38455 24.7054 3.94898 24.7054C2.51342 24.7054 1.34961 23.5416 1.34961 22.106C1.34961 20.6704 2.51342 19.5066 3.94898 19.5066C5.38455 19.5066 6.54836 20.6704 6.54836 22.106Z" fill="#14B9FF"/>
    <path d="M24.1576 7.57832C23.8276 7.71916 23.674 8.10081 23.8149 8.43109C23.8149 8.43109 23.8151 8.43109 23.8151 8.43129C26.3484 14.368 23.5893 21.2344 17.6527 23.7675C14.629 25.0578 11.2014 25.015 8.21107 23.6493C7.88119 23.5078 7.49914 23.6604 7.35751 23.99C7.22024 24.31 7.35929 24.6812 7.67291 24.8321C14.2067 27.8018 21.9108 24.9126 24.8805 18.3791C26.3869 15.0652 26.4341 11.2713 25.0108 7.9209C24.8696 7.59102 24.4879 7.43768 24.1576 7.57832Z" fill="#14B9FF"/>
    <path d="M1.81508 18.7641C1.90791 18.7637 1.99956 18.7439 2.08406 18.7056C2.41057 18.5572 2.55518 18.1724 2.4068 17.8459C2.4068 17.8455 2.4066 17.8453 2.4064 17.8449C-0.265969 11.9648 2.3344 5.03151 8.21473 2.35894C11.1964 1.00371 14.6098 0.961064 17.6246 2.24131C17.9548 2.38215 18.3367 2.22862 18.4775 1.89854C18.6184 1.56826 18.465 1.18641 18.1348 1.04557C11.5379 -1.76963 3.90823 1.2959 1.09303 7.89273C-0.340752 11.2524 -0.293343 15.0605 1.22355 18.3835C1.32908 18.6154 1.56038 18.7641 1.81508 18.7641Z" fill="#14B9FF"/>
  </g>
  <defs>
    <clipPath id="clip0_1127_205">
      <rect width="26" height="26" fill="white"/>
    </clipPath>
  </defs>
</svg>`,
      svgBg: "#DEF5FF",
    },
    {
      name: "Planetary Alignment",
      id: 3,
      svg: `<svg xmlns="http://www.w3.org/2000/svg" width="27" height="26" viewBox="0 0 27 26" fill="none">
  <g clip-path="url(#clip0_1127_283)">
    <path d="M23.6663 9.73242C21.9097 12.031 19.6861 14.5458 17.2142 17.0176C14.7431 19.4888 12.2283 21.7124 9.92969 23.469C10.9743 23.7939 12.0734 23.9629 13.1985 23.9629C16.1264 23.9629 18.8792 22.8227 20.9496 20.7523C23.02 18.6819 24.1602 15.9291 24.1601 13.0013C24.1601 11.8761 23.9911 10.777 23.6663 9.73242Z" fill="#B200FF"/>
    <path d="M25.7382 0.462879C24.7707 -0.504756 22.9765 0.303477 22.3869 0.569062C21.2232 1.09328 19.7548 1.99942 18.1204 3.19988C17.602 2.93892 17.0634 2.72107 16.5097 2.54638C15.4528 2.21315 14.3398 2.03953 13.1999 2.03958C10.272 2.03953 7.51918 3.17982 5.44888 5.25017C3.37848 7.32057 2.2383 10.0733 2.23824 13.0012C2.2383 14.5842 2.57218 16.1158 3.20552 17.5162C3.26717 17.6525 3.33166 17.7875 3.399 17.9211C3.0317 18.4209 2.69045 18.9066 2.38221 19.3694C2.38211 19.3695 2.38206 19.3695 2.38201 19.3696C1.46663 20.7429 0.83049 21.92 0.491322 22.8682C0.0539951 24.0906 0.111276 24.9895 0.661541 25.5398C1.21186 26.0901 2.11109 26.1472 3.33415 25.7094C4.28269 25.37 5.46036 24.7334 6.8345 23.8173C9.59476 21.9771 12.899 19.1796 16.1386 15.9399C16.139 15.9395 16.139 15.9395 16.1394 15.9391C19.3786 12.7 22.1759 9.39584 24.0159 6.63584C24.9319 5.2617 25.5686 4.08408 25.9081 3.13544C26.3456 1.91238 26.2886 1.01319 25.7382 0.462879ZM6.25006 22.3738C3.26443 24.4063 1.98129 24.567 1.74084 24.4602C1.63974 24.2309 1.77995 23.0197 3.64976 20.2146C3.64981 20.2145 3.64986 20.2144 3.64986 20.2144C3.83871 19.931 4.04067 19.6383 4.25395 19.3384C4.53904 19.739 4.8521 20.123 5.1933 20.4873C5.27699 20.5767 5.36169 20.6652 5.44873 20.7523C5.51287 20.8165 5.57766 20.8796 5.64312 20.942C6.02809 21.3088 6.43551 21.6442 6.86172 21.9476H6.86187C6.65524 22.0945 6.4511 22.2369 6.25006 22.3738ZM22.5722 6.0517C22.4355 6.25259 22.2929 6.45678 22.146 6.66331C21.8427 6.23705 21.5073 5.82969 21.1405 5.44461C21.0782 5.37921 21.0149 5.31441 20.9509 5.25032C20.8867 5.18614 20.822 5.12296 20.7566 5.06066C20.3715 4.69386 19.9642 4.35845 19.538 4.05519H19.5379C20.7854 3.16819 21.9074 2.48118 22.821 2.0472C24.1361 1.42234 24.5864 1.51989 24.6596 1.54411C24.7647 1.78867 24.6001 3.07273 22.5722 6.0517Z" fill="#B200FF"/>
  </g>
  <defs>
    <clipPath id="clip0_1127_283">
      <rect width="26" height="26" fill="white" transform="translate(0.199219)"/>
    </clipPath>
  </defs>
</svg>`,
      svgBg: "#F4D9FF",
    },
    {
      name: "Remedies for you",
      id: 4,
      svg: this.leaveSvg,
      svgBg: "#B2FFD9",
    },
  ];

  planetSummaryCard: IFeatureCard = {
    title: "Summary",
    brief: this.tempSummary,
  };

  
  doshaSsummaryCard: IFeatureCard = {
    title: "Summary",
    brief: this.tempSummary,
  };
  
  doshasCard: IFeatureCardT2[] = [
    {
      title: "Kal Sarp Dosha",
      brief: this.tempBrief,
      svgBg: '#FFF1D6',
    },
    {
      title: "Pitra Dosha",
      brief: this.tempBrief,
      svgBg: '#FFF1D6',
    },
    {
      title: "Shani Dosha",
      brief: this.tempBrief,
      svgBg: '#FFF1D6',
    },
  ];
  
  dashaaSummaryCard: IFeatureCard = {
    title: "Summary",
    brief: this.tempSummary,
  };

  dashaasCard: IFeatureCardT2[] = [
    {
      title: "Mahadasha",
      brief: this.tempBrief,
      svgBg: '#FFF1D6',
    },
    {
      title: "Antar Dasha",
      brief: this.tempBrief,
      svgBg: '#FFF1D6',
    },
    {
      title: "Pratyanantra Dasha",
      brief: this.tempBrief,
      svgBg: '#FFF1D6',
    },
  ];

  
  remedieSummary: IFeatureCard = {
    title: "Summary",
    brief: this.tempSummary,
  };

  remediesCard: IFeatureCard[] = [
    {
      title: 'Mahadasha Remedy',
      brief: this.tempBrief,
      svgBg: "#B2FFD9"
    },
    {
      title: 'Antar Dasha Remedy',
      brief: this.tempBrief,
      svgBg: "#B2FFD9"
    },
    {
      title: 'Pratyanantra Dasha Remedy',
      brief: this.tempBrief,
      svgBg: "#B2FFD9"
    },
  ];

  constructor(private headerService: HeaderService, private formService: FormService, private router: Router, private route: ActivatedRoute, private sanitizer: DomSanitizer) {}

  ngOnInit(): void {
    this.headerService.setColorSubject(true);
    this.setProfile();
    this.route.paramMap.subscribe(params => {
      this.setSelectedOption(params);
    })
    this.sanitizeSvg();
  }

  private sanitizeSvg() {
    this.options.forEach(o => {
      o.svg = this.sanitizer.bypassSecurityTrustHtml(o.svg as string);
    });
  }

  private setSelectedOption(params: ParamMap) {
    const option = params.get('option');
    if (option) {
      this.selectedOption = parseInt(option, 10);
    } else {
      this.selectedOption = 0;
    }
  }

  private setProfile() {
    const form = this.formService.getKundliFormData();
    if  (form) {
      this.profile = form;
    }
  }

  changDetails() {
    this.router.navigate(['home/kundli']);
  }

  optionSelect(id: number) {
    this.router.navigate(['../', id], { relativeTo: this.route });
  }

}
